import{_ as o,c as r,o as a,w as i,b as s,a as n,a5 as c}from"./index-H8frggIS.js";import{Q as l}from"./QPage-D8MXlXtH.js";const u={name:"AuthCallback",created(){const t=this.$route.query.token;console.log("token recibido en callback:",t),this.$axios.get("/me",{headers:{Authorization:`Bearer ${t}`}}).then(({data:e})=>{this.$store.isLogged=!0,this.$store.user=e||{},localStorage.setItem("tokenEducate",t),this.$axios.defaults.headers.common.Authorization=`Bearer ${t}`,this.$alert.success(`¡Bienvenido, ${e.name||"usuario"}!`),e.onboarding_completed?this.$router.replace("/"):this.$router.replace("/configuracion")}).catch(()=>{this.$store.isLogged=!0})}},d={class:"row items-center q-gutter-sm"};function h(t,e,$,m,p,f){return a(),r(l,{class:"flex flex-center"},{default:i(()=>[s("div",d,[n(c,{size:"32px"}),e[0]||(e[0]=s("div",null,"Iniciando sesión…",-1))])]),_:1})}const k=o(u,[["render",h]]);export{k as default};
